1. `app\stores\widget\RouterMapper.js`  
```js 
//_registerListener函数增加代码
                  NativeInterface.openPureRN(initPage); 
                    Actions.MyTestPageWrapper({
                        type: ActionConst.REPLACE,
                        skuId: 212,
                    });
                return
```
APP调试模式：在开发模式下，`RN插件调试`要开启，RN项目是以插件的形式加入的               

2.`app\router\BaseScene.js`
```js
//添加如下代码
import MyTestPageWrapper from './pageWrapper/myTestPageWrapper';
<Scene key={'MyTestPageWrapper'} component={MyTestPageWrapper} hideNavBar />
```

3.在`app\modules\myTestPage` 写测试代码
```js
    新增路由跳转页面需要继承BasePage，并且需要调用getRealComponent方法来保存target（ref），以便继承的各种路由回调能找到相应的ref；
```

4.杀后台重新打开就会加载最新的rn代码

5.苹果机开发模式 首页初始化的RN实例端口是8081 后初始化的那些走8082端口，所以需要跑另外一个端口项目
```js
//package配置 
start-sub  node node_modules/react-native/local-cli/cli.js start --port 8082
```

6.安卓机开发模式debugger 不同rn实例只能存活一个，后初始化的会干掉前初始化的，然后就点不动了

7.小细节：页面跳转或者打开容器的回调方法，放在监听回调中，等待登录状态更新后再触发；


8.动态加载组件的实现
（1）用require引入组件： 项目通过`app\router\pageWrapper`这个文件夹对具体页面组件做了管理，用require引入实际的组件
（2）require和es6的import混合使用会报错` TypeError: Cannot assign to read only property 'exports' of object '#<Object>'.. `因此需要使用插件`babel/plugin-transform-modules-commonjs`解决问题   
```js
        npm install --save-dev @babel/plugin-transform-modules-commonjs
```

（3）添加插件后有两种处理方式
- 在项目根目录新增.babelrc文件，并在文件中加入
```js
      {
            "plugins": ["@babel/plugin-transform-modules-commonjs"]
      } 
```
 第一种如果以下错误，就需要使用第二种加入方式，因为package里面已集成Babel的配置

```js
./src/index.js
Error: Multiple configuration files found. Please remove one:
 - package.json
 - D:\project\private\react_project\studyreact-demo\.babelrc
from D:\project\private\react_project\studyreact-demo
    at Array.reduce (<anonymous>)
    at loadOneConfig.next (<anonymous>)
    at findRelativeConfig.next (<anonymous>)
    at buildRootChain.next (<anonymous>)
    at loadPrivatePartialConfig.next (<anonymous>)
```

 - 在文件的package.json里面添加  
```json 
      "babel": {
        "plugins": [
        [
            "@babel/plugin-proposal-decorators",
            {
            "legacy": true
            }
        ],
        "@babel/plugin-transform-modules-commonjs"
        ],
        "presets": [
        "react-app"
        ]
  },
 ```



